<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">

<head>
    <!-- ===== CORE META TAGS ===== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- Google Adsense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2300957059714171"
        crossorigin="anonymous"></script>

    <!-- ===== FAVICON & APP ICONS ===== -->
    <link rel="icon" type="image/x-icon" href="./images/financialtools-final.webp">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2563eb">
    <meta name="msapplication-TileColor" content="#2563eb">
    <meta name="theme-color" content="#2563eb">

    <!-- ===== TITLE OPTIMIZATION ===== -->
    <title>Terms of Service | AllFinancialTools.com - Legal Terms for Free Calculators</title>

    <!-- ===== META DESCRIPTIONS (LAYERED) ===== -->
    <meta name="description"
        content="⚖️ AllFinancialTools.com Terms of Service - Legal agreement for using our free financial calculators. 100% free, no liability for calculations.">

    <meta name="abstract"
        content="Complete Terms of Service document outlining the legal terms and conditions for using AllFinancialTools.com financial calculators.">

    <meta itemprop="description"
        content="Legal terms governing the use of AllFinancialTools.com free financial calculators, including disclaimers, limitations, and user responsibilities.">

    <!-- ===== KEYWORDS FOR TERMS PAGE ===== -->
    <meta name="keywords"
        content="terms of service, terms and conditions, legal terms, user agreement, disclaimer, liability waiver, calculator terms, financial tools terms, legal agreement, terms of use, service terms, user responsibilities, intellectual property, copyright notice, disclaimers, limitations of liability">

    <!-- ===== AUTHOR, COPYRIGHT & LEGAL ===== -->
    <meta name="author" content="AllFinancialTools.com Legal Department">
    <meta name="copyright" content="Copyright © 2024 AllFinancialTools.com. All rights reserved.">
    <meta name="designer" content="AllFinancialTools Legal Team">
    <meta name="publisher" content="AllFinancialTools.com">
    <meta name="legal:country" content="Global">
    <link rel="publisher" href="https://www.allfinancialtools.com/">

    <!-- ===== ROBOTS & CRAWLERS ===== -->
    <meta name="robots"
        content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1, noarchive">
    <meta name="googlebot"
        content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1, notranslate">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="slurp" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

    <!-- ===== CANONICAL & LANGUAGE TAGS ===== -->
    <link rel="canonical" href="https://www.allfinancialtools.com/terms-of-service.html">

    <!-- MULTIPLE LANGUAGE SUPPORT -->
    <link rel="alternate" hreflang="en" href="https://www.allfinancialtools.com/terms-of-service.html">
    <link rel="alternate" hreflang="en-us" href="https://www.allfinancialtools.com/terms-of-service.html">
    <link rel="alternate" hreflang="en-gb" href="https://www.allfinancialtools.com/terms-of-service.html">
    <link rel="alternate" hreflang="en-in" href="https://www.allfinancialtools.com/terms-of-service.html">
    <link rel="alternate" hreflang="x-default" href="https://www.allfinancialtools.com/terms-of-service.html">

    <meta http-equiv="content-language" content="en">
    <meta name="language" content="English">

    <!-- ===== OPEN GRAPH FOR LEGAL PAGE ===== -->
    <meta property="og:site_name" content="AllFinancialTools.com">
    <meta property="og:title" content="Terms of Service | Legal Agreement for Financial Calculators">
    <meta property="og:description"
        content="⚖️ Legal terms and conditions for using AllFinancialTools.com free financial calculators. Read before use.">
    <meta property="og:url" content="https://www.allfinancialtools.com/terms-of-service.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://www.allfinancialtools.com/images/og-terms-of-service-2024.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="AllFinancialTools.com Terms of Service">
    <meta property="og:locale" content="en_US">

    <!-- ===== TWITTER CARDS ===== -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@AllFinTools">
    <meta name="twitter:creator" content="@AllFinTools">
    <meta name="twitter:title" content="Terms of Service | Legal Agreement">
    <meta name="twitter:description"
        content="Legal terms governing the use of AllFinancialTools.com financial calculators. Important disclaimers included.">
    <meta name="twitter:label1" content="Last Updated">
    <meta name="twitter:data1" content="January 2024">
    <meta name="twitter:label2" content="Status">
    <meta name="twitter:data2" content="Active">

    <!-- ===== ARTICLE/PUBLICATION META ===== -->
    <meta property="article:published_time" content="2024-01-27T00:00:00+05:30">
    <meta property="article:modified_time" content="2024-01-27T18:30:00+05:30">
    <meta name="date" content="2024-01-27">
    <meta name="last-modified" content="2024-01-27">

    <!-- ===== GEO TARGETING (GLOBAL) ===== -->
    <meta name="geo.region" content="Worldwide">
    <meta name="geo.placename" content="Global">
    <meta name="geo.position" content="global">
    <meta name="ICBM" content="global">

    <!-- ===== MOBILE & PWA OPTIMIZATION ===== -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="AllFinancialTools Terms">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="AllFinancialTools Terms">
    <meta name="format-detection" content="telephone=no">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <!-- ===== PRELOAD & PERFORMANCE ===== -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="preload"
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap"
        as="style">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://www.googletagmanager.com">

    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

    <!-- ===== STYLES & FONTS ===== -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <!-- ===== SITE VERIFICATION ===== -->
    <meta name="google-site-verification" content="qcL1xz554-YW7raQplk96dyCFT6Dm5Rg7Vqq2aOoUs0">
    <meta name="msvalidate.01" content="YOUR_BING_VERIFICATION">

    <!-- ===== CRITICAL STRUCTURED DATA FOR TERMS OF SERVICE ===== -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Loan Calculator",
  "description": "Compare and calculate all types of loans",
  "url": "https://www.allfinancialtools.com/loan-calculator",
  "applicationCategory": "FinanceApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
        "@graph": [
            {
                "@type": "WebSite",
                "@id": "https://www.allfinancialtools.com/#website",
                "url": "https://www.allfinancialtools.com/",
                "name": "AllFinancialTools.com - Free Financial Calculators",
                "description": "World's largest collection of free online financial calculators for loans, investments, taxes, retirement planning, and financial analysis.",
                "potentialAction": [{
                    "@type": "SearchAction",
                    "target": "https://www.allfinancialtools.com/search?q={search_term_string}",
                    "query-input": "required name=search_term_string"
                }],
                "inLanguage": ["en-US", "en-GB", "en-IN"],
                "publisher": {
                    "@id": "https://www.allfinancialtools.com/#organization"
                }
            },
            {
                "@type": "Organization",
                "@id": "https://www.allfinancialtools.com/#organization",
                "name": "AllFinancialTools.com",
                "alternateName": ["All Financial Tools", "Financial Tools", "AFT"],
                "description": "World's #1 platform for free financial calculators and financial education.",
                "url": "https://www.allfinancialtools.com/",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://www.allfinancialtools.com/logo.png",
                    "width": 300,
                    "height": 60,
                    "caption": "AllFinancialTools.com Logo"
                },
                "termsOfService": "https://www.allfinancialtools.com/terms-of-service.html",
                "knowsAbout": ["Legal Compliance", "User Agreements", "Financial Regulations", "Intellectual Property"],
                "legalName": "AllFinancialTools.com",
                "sameAs": [
                    "https://twitter.com/AllFinTools",
                    "https://facebook.com/AllFinTools",
                    "https://linkedin.com/company/allfinancialtools"
                ]
            },
            {
                "@type": "WebPage",
                "@id": "https://www.allfinancialtools.com/terms-of-service.html#webpage",
                "url": "https://www.allfinancialtools.com/terms-of-service.html",
                "name": "Terms of Service | AllFinancialTools.com - Legal Terms for Free Calculators",
                "description": "Complete Terms of Service document outlining the legal terms and conditions for using AllFinancialTools.com financial calculators.",
                "isPartOf": {
                    "@id": "https://www.allfinancialtools.com/#website"
                },
                "about": {
                    "@id": "https://www.allfinancialtools.com/#organization"
                },
                "primaryImageOfPage": {
                    "@type": "ImageObject",
                    "url": "https://www.allfinancialtools.com/images/terms-of-service-hero.webp",
                    "width": 1200,
                    "height": 630,
                    "caption": "AllFinancialTools.com Terms of Service"
                },
                "inLanguage": "en-US",
                "datePublished": "2024-01-27T00:00:00+05:30",
                "dateModified": "2024-01-27T18:30:00+05:30",
                "breadcrumb": {
                    "@type": "BreadcrumbList",
                    "itemListElement": [
                        {
                            "@type": "ListItem",
                            "position": 1,
                            "name": "Home",
                            "item": "https://www.allfinancialtools.com/"
                        },
                        {
                            "@type": "ListItem",
                            "position": 2,
                            "name": "Terms of Service",
                            "item": "https://www.allfinancialtools.com/terms-of-service.html"
                        }
                    ]
                },
                "mainEntity": {
                    "@type": "CreativeWork",
                    "name": "Terms of Service Document",
                    "description": "Legal terms and conditions for using AllFinancialTools.com services",
                    "text": "These Terms of Service govern your use of AllFinancialTools.com website and services. By accessing or using our services, you agree to be bound by these Terms.",
                    "copyrightYear": 2024,
                    "license": "All rights reserved"
                }
            },
            {
                "@type": "LegalService",
                "name": "Terms of Service Agreement",
                "description": "Legal agreement service for AllFinancialTools.com users",
                "url": "https://www.allfinancialtools.com/terms-of-service.html",
                "provider": {
                    "@id": "https://www.allfinancialtools.com/#organization"
                },
                "areaServed": "Worldwide",
                "termsOfService": "https://www.allfinancialtools.com/terms-of-service.html",
                "hasOfferCatalog": {
                    "@type": "OfferCatalog",
                    "name": "Service Terms",
                    "itemListElement": [
                        {
                            "@type": "Offer",
                            "itemOffered": {
                                "@type": "Service",
                                "name": "Free Calculator Access",
                                "description": "Access to free financial calculators under specified terms"
                            }
                        },
                        {
                            "@type": "Offer",
                            "itemOffered": {
                                "@type": "Service",
                                "name": "Educational Content",
                                "description": "Financial education materials subject to terms"
                            }
                        },
                        {
                            "@type": "Offer",
                            "itemOffered": {
                                "@type": "Service",
                                "name": "Support Services",
                                "description": "Technical support under service terms"
                            }
                        }
                    ]
                }
            },
            {
                "@type": "FAQPage",
                "mainEntity": [
                    {
                        "@type": "Question",
                        "name": "Is there any cost to use AllFinancialTools.com?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "NO. AllFinancialTools.com is 100% free to use. We don't charge for any calculator or service. Our mission is to provide free financial tools to everyone."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Are the calculation results guaranteed to be accurate?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "While we strive for accuracy, all calculations are provided 'as is' without warranty. Results are for informational purposes only and not financial advice. Always consult a financial professional for important decisions."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Can I use the calculations for business or commercial purposes?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "Personal use is permitted. For commercial use, please contact us at legal@allfinancialtools.com for licensing terms. Unauthorized commercial use is prohibited."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "What happens if I don't agree with these terms?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "If you don't agree to these Terms of Service, please discontinue use of AllFinancialTools.com immediately. Continued use constitutes acceptance of these terms."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "How often are these terms updated?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "We may update these terms periodically. The 'Last Updated' date at the top indicates the most recent revision. Continued use after updates constitutes acceptance of the new terms."
                        }
                    },
                    {
                        "@type": "Question",
                        "name": "Who owns the intellectual property on AllFinancialTools.com?",
                        "acceptedAnswer": {
                            "@type": "Answer",
                            "text": "All content, design, code, and intellectual property on AllFinancialTools.com are owned by AllFinancialTools.com unless otherwise stated. Users retain ownership of their input data."
                        }
                    }
                ]
            },
            {
                "@type": "Offer",
                "name": "Free Financial Calculator Services",
                "description": "Free access to financial calculators under specified terms and conditions",
                "url": "https://www.allfinancialtools.com/terms-of-service.html",
                "price": "0",
                "priceCurrency": "USD",
                "availability": "https://schema.org/InStock",
                "validFrom": "2024-01-27",
                "businessFunction": "https://schema.org/ProvideService",
                "eligibleCustomerType": "https://schema.org/Consumer",
                "availableAtOrFrom": {
                    "@id": "https://www.allfinancialtools.com/#website"
                },
                "termsOfService": "https://www.allfinancialtools.com/terms-of-service.html"
            }
        ]
    }
    </script>

    <!-- ADDITIONAL LEGAL SCHEMA -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Loan Calculator",
  "description": "Compare and calculate all types of loans",
  "url": "https://www.allfinancialtools.com/loan-calculator",
  "applicationCategory": "FinanceApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
        "@type": "DigitalDocument",
        "name": "Terms of Service Agreement",
        "description": "Legal terms and conditions document for AllFinancialTools.com",
        "url": "https://www.allfinancialtools.com/terms-of-service.html",
        "encodingFormat": "text/html",
        "dateCreated": "2024-01-27",
        "dateModified": "2024-01-27",
        "author": {
            "@id": "https://www.allfinancialtools.com/#organization"
        },
        "contributor": {
            "@id": "https://www.allfinancialtools.com/#organization"
        },
        "copyrightHolder": {
            "@id": "https://www.allfinancialtools.com/#organization"
        },
        "copyrightYear": 2024,
        "publisher": {
            "@id": "https://www.allfinancialtools.com/#organization"
        },
        "hasPart": [
            {
                "@type": "WebPageElement",
                "name": "Acceptance of Terms",
                "description": "Section detailing user acceptance of terms",
                "position": 1
            },
            {
                "@type": "WebPageElement",
                "name": "Service Description",
                "description": "Description of services provided",
                "position": 2
            },
            {
                "@type": "WebPageElement",
                "name": "User Responsibilities",
                "description": "User obligations and responsibilities",
                "position": 3
            },
            {
                "@type": "WebPageElement",
                "name": "Intellectual Property",
                "description": "Copyright and IP rights information",
                "position": 4
            },
            {
                "@type": "WebPageElement",
                "name": "Disclaimer of Warranties",
                "description": "Limitations and disclaimers",
                "position": 5
            },
            {
                "@type": "WebPageElement",
                "name": "Limitation of Liability",
                "description": "Liability limitations",
                "position": 6
            },
            {
                "@type": "WebPageElement",
                "name": "Governing Law",
                "description": "Applicable laws and jurisdiction",
                "position": 7
            },
            {
                "@type": "WebPageElement",
                "name": "Contact Information",
                "description": "How to contact for legal matters",
                "position": 8
            }
        ]
    }
    </script>

    <!-- ===== PERFORMANCE & ANALYTICS ===== -->
    <style>
        /* Critical CSS for Terms of Service Page */
        .terms-hero {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 4rem 2rem;
            text-align: center;
        }

        .terms-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        .terms-section {
            margin-bottom: 3rem;
            padding: 2rem;
            background: #f8fafc;
            border-radius: 10px;
            border-left: 4px solid #475569;
        }

        .terms-warning {
            background: #fef3c7;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
            border-left: 4px solid #d97706;
        }

        .terms-highlight {
            background: #dbeafe;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
            border-left: 4px solid #2563eb;
        }

        .legal-badge {
            display: inline-block;
            background: #475569;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        @media (max-width: 768px) {
            .terms-hero {
                padding: 2rem 1rem;
            }

            .terms-container {
                padding: 1rem;
            }

            .terms-section {
                padding: 1rem;
            }
        }

        /* Table of Contents */
        .toc-legal {
            background: #f1f5f9;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
            border: 1px solid #cbd5e1;
        }

        .toc-list-legal {
            list-style: decimal;
            padding-left: 1.5rem;
        }

        .toc-item-legal {
            margin: 0.5rem 0;
        }

        .toc-link-legal {
            color: #2563eb;
            text-decoration: none;
            font-weight: 500;
        }

        .toc-link-legal:hover {
            text-decoration: underline;
        }

        /* Legal Text Styling */
        .legal-heading {
            color: #1e293b;
            border-bottom: 2px solid #cbd5e1;
            padding-bottom: 0.5rem;
            margin-top: 2rem;
        }

        .legal-paragraph {
            line-height: 1.8;
            margin: 1rem 0;
            color: #334155;
        }

        .legal-list {
            padding-left: 1.5rem;
            margin: 1rem 0;
        }

        .legal-list-item {
            margin: 0.5rem 0;
            line-height: 1.6;
        }
    </style>

    <script>
        // Terms of Service Features
        document.addEventListener('DOMContentLoaded', function () {
            // Add last updated date dynamically
            const lastUpdated = document.querySelector('.last-updated');
            if (lastUpdated) {
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                lastUpdated.textContent = now.toLocaleDateString('en-US', options);
            }

            // Smooth scroll for table of contents
            const tocLinks = document.querySelectorAll('.toc-link-legal[href^="#"]');
            tocLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });

                        // Highlight the current section
                        document.querySelectorAll('.terms-section').forEach(section => {
                            section.style.background = '#f8fafc';
                        });
                        targetElement.style.background = '#e0f2fe';

                        // Remove highlight after 2 seconds
                        setTimeout(() => {
                            targetElement.style.background = '#f8fafc';
                        }, 2000);
                    }
                });
            });

            // Print button functionality
            const printButton = document.getElementById('print-terms');
            if (printButton) {
                printButton.addEventListener('click', function () {
                    const printContent = document.querySelector('.terms-container');
                    const originalContent = document.body.innerHTML;

                    document.body.innerHTML = printContent.innerHTML;
                    window.print();
                    document.body.innerHTML = originalContent;
                    location.reload();
                });
            }

            // Accept terms functionality (for registration flows)
            const acceptButton = document.getElementById('accept-terms');
            if (acceptButton) {
                acceptButton.addEventListener('click', function () {
                    localStorage.setItem('termsAccepted', 'true');
                    localStorage.setItem('termsAcceptedDate', new Date().toISOString());
                    localStorage.setItem('termsVersion', '2024-01-27');

                    if (window.dataLayer) {
                        window.dataLayer.push({
                            'event': 'terms_accepted',
                            'terms_version': '2024-01-27',
                            'acceptance_date': new Date().toISOString()
                        });
                    }

                    alert('Thank you for accepting our Terms of Service. You may now continue using AllFinancialTools.com.');
                });
            }

            // Track terms page views
            if (window.dataLayer) {
                window.dataLayer.push({
                    'event': 'terms_page_view',
                    'page_location': 'terms-of-service.html',
                    'terms_version': '2024-01-27'
                });
            }

            // Check if user has previously accepted terms
            const termsAccepted = localStorage.getItem('termsAccepted');
            const termsVersion = localStorage.getItem('termsVersion');
            const currentVersion = '2024-01-27';

            if (termsAccepted && termsVersion !== currentVersion) {
                // Show update notification
                const updateNotice = document.createElement('div');
                updateNotice.id = 'terms-update-notice';
                updateNotice.innerHTML = `
                    <div style="background: #fef3c7; border-left: 4px solid #d97706; padding: 1rem; margin: 1rem 0; border-radius: 4px;">
                        <p style="margin: 0 0 0.5rem 0; font-weight: 500;">⚠️ Terms of Service Updated</p>
                        <p style="margin: 0 0 0.5rem 0;">Our Terms of Service have been updated. Please review the changes.</p>
                        <a href="#changes" style="color: #2563eb; font-weight: 500;">View Changes</a>
                    </div>
                `;
                const container = document.querySelector('.terms-container');
                if (container) {
                    container.insertBefore(updateNotice, container.firstChild);
                }
            }
        });

        // Terms acceptance checking for other pages
        window.checkTermsAccepted = function () {
            const termsAccepted = localStorage.getItem('termsAccepted');
            const termsVersion = localStorage.getItem('termsVersion');
            const currentVersion = '2024-01-27';

            if (!termsAccepted || termsVersion !== currentVersion) {
                // Redirect to terms page or show modal
                if (window.location.pathname !== '/terms-of-service.html') {
                    const shouldRedirect = confirm('Please review and accept our updated Terms of Service to continue using AllFinancialTools.com.');
                    if (shouldRedirect) {
                        window.location.href = '/terms-of-service.html';
                        return false;
                    }
                }
            }
            return true;
        };
    </script>
    <link rel="stylesheet" href="common.css">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* Common Styles for All Pages */
        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-title h2 {
            font-size: 2.2rem;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .section-title p {
            color: var(--gray);
            max-width: 600px;
            margin: 0 auto;
            font-size: 1.1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 20px;
            }

            .nav-links {
                gap: 20px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }
        }

        .terms-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .terms-header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--border);
        }

        .terms-header h1 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .terms-meta {
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 20px;
        }

        .terms-section {
            margin-bottom: 40px;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .terms-section h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .terms-section h3 {
            color: var(--dark);
            margin: 25px 0 15px;
        }

        .terms-section p,
        .terms-section li {
            color: var(--gray);
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .terms-section ul,
        .terms-section ol {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .terms-section li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 10px;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 20px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .agreement-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .terms-section {
                padding: 20px;
            }

            .terms-header h1 {
                font-size: 2rem;
            }
        }
    </style>
    <script>
        // Google Consent Mode Defaults
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'analytics_storage': 'denied',
            'ad_user_data': 'denied',
            'ad_personalization': 'denied',
            'personalization_storage': 'denied',
            'functionality_storage': 'denied',
            'security_storage': 'granted',
            'wait_for_update': 500
        });
    </script>
    <!-- In your HTML HEAD section - Load these first -->
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MZ4PV9XS');</script>
    <!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SJVTJJHX1W"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-SJVTJJHX1W');
    </script>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MZ4PV9XS" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Your existing header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <img style="width: 50px;" src="./images/financialtools-final.webp" alt="">
                    FinanceTools
                    <span class="free-badge">FREE</span>
                </a>
                <div class="nav-links">
                    <a href="index.html">Home</a>
                    <a href="index.html#calculator-tabs">Calculators</a>
                    <a href="index.html#testimonials">Reviews</a>
                    <a href="index.html#faq">FAQ</a>
                    <a href="sitemap.html" class="active">Sitemap</a>
                    <a href="contact.html">Contact</a>
                </div>
                <div class="nav-actions">
                    <button class="btn btn-primary" onclick="location.href='index.html#calculator-tabs'">
                        <i class="fas fa-bolt"></i> Calculate Free
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <div class="terms-container">
        <div class="terms-header">
            <h1><i class="fas fa-file-contract"></i> Terms of Service</h1>
            <p>Effective Date: <strong>January 2024</strong></p>
            <div class="terms-meta">
                <i class="fas fa-clock"></i> Effective: January 2024 |
                <i class="fas fa-file-alt"></i> Version: 2.0
            </div>
        </div>

        <div class="agreement-box">
            <h3 style="color: var(--primary); margin-bottom: 15px;"><i class="fas fa-handshake"></i> Agreement to Terms
            </h3>
            <p>By accessing or using FinanceTools, you agree to be bound by these Terms of Service.</p>
            <a href="#acceptance" class="btn btn-primary" style="margin-top: 15px;">
                <i class="fas fa-scroll"></i> Read Full Terms
            </a>
        </div>

        <div class="terms-section" id="acceptance">
            <h2><i class="fas fa-check-circle"></i> 1. Acceptance of Terms</h2>
            <p>These Terms of Service ("Terms") govern your use of FinanceTools website and services ("Service"). By
                accessing or using our Service, you agree to these Terms.</p>

            <h3>1.1 Eligibility</h3>
            <p>You must be at least 18 years old to use our Service. By using FinanceTools, you represent that you are
                at least 18.</p>

            <h3>1.2 Modifications</h3>
            <p>We reserve the right to modify these Terms at any time. We will notify users of significant changes via
                our website.</p>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-calculator"></i> 2. Description of Service</h2>

            <h3>2.1 Free Financial Calculators</h3>
            <p>FinanceTools provides free financial calculators for educational and informational purposes:</p>
            <ul>
                <li>Loan EMI calculators</li>
                <li>Investment return calculators</li>
                <li>Tax calculation tools</li>
                <li>Retirement planning calculators</li>
                <li>Other financial planning tools</li>
            </ul>

            <h3>2.2 No Financial Advice</h3>
            <div class="warning-box">
                <h4 style="color: #d97706; margin-top: 0;"><i class="fas fa-exclamation-triangle"></i> Important
                    Disclaimer</h4>
                <p><strong>FinanceTools does not provide financial advice.</strong> Our calculators are for
                    informational purposes only. Always consult with a qualified financial advisor before making
                    investment decisions.</p>
            </div>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-user"></i> 3. User Responsibilities</h2>

            <h3>3.1 Accurate Information</h3>
            <p>You agree to provide accurate information when using our calculators. Results depend on the accuracy of
                your inputs.</p>

            <h3>3.2 Prohibited Activities</h3>
            <p>You agree not to:</p>
            <ul>
                <li>Use the Service for illegal purposes</li>
                <li>Attempt to hack or disrupt the Service</li>
                <li>Scrape or copy our content without permission</li>
                <li>Misrepresent our calculators as financial advice</li>
                <li>Use automated tools to access our Service excessively</li>
            </ul>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-balance-scale"></i> 4. Intellectual Property</h2>

            <h3>4.1 Ownership</h3>
            <p>All content, features, and functionality on FinanceTools are owned by us and are protected by copyright
                laws.</p>

            <h3>4.2 License</h3>
            <p>We grant you a limited, non-exclusive, non-transferable license to use our Service for personal,
                non-commercial purposes.</p>

            <h3>4.3 Restrictions</h3>
            <p>You may not:</p>
            <ul>
                <li>Copy, modify, or create derivative works</li>
                <li>Use our content for commercial purposes without permission</li>
                <li>Remove any copyright notices</li>
                <li>Reverse engineer our algorithms</li>
            </ul>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-exclamation-triangle"></i> 5. Disclaimer of Warranties</h2>

            <div class="warning-box">
                <h4 style="color: #d97706; margin-top: 0;"><i class="fas fa-shield-alt"></i> No Guarantees</h4>
                <p><strong>The Service is provided "as is" without warranties of any kind.</strong> We do not guarantee:
                </p>
                <ul>
                    <li>Accuracy of calculations</li>
                    <li>Uninterrupted access to the Service</li>
                    <li>Error-free operation</li>
                    <li>Results matching actual financial outcomes</li>
                </ul>
            </div>

            <h3>5.1 Financial Decisions</h3>
            <p>You acknowledge that financial decisions based on our calculators are made at your own risk. We are not
                responsible for any financial losses.</p>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-gavel"></i> 6. Limitation of Liability</h2>

            <h3>6.1 No Liability</h3>
            <p>To the maximum extent permitted by law, FinanceTools shall not be liable for:</p>
            <ul>
                <li>Direct, indirect, incidental, or consequential damages</li>
                <li>Financial losses from using our calculators</li>
                <li>Errors or omissions in calculations</li>
                <li>Service interruptions or data loss</li>
            </ul>

            <h3>6.2 Jurisdiction</h3>
            <p>These Terms shall be governed by the laws of India. Any disputes shall be resolved in the courts of
                Delhi.</p>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-link"></i> 7. Third-Party Links</h2>
            <p>Our Service may contain links to third-party websites. We are not responsible for the content or
                practices of these sites.</p>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-flag"></i> 8. Termination</h2>
            <p>We may terminate or suspend your access to our Service immediately, without prior notice, for any
                violation of these Terms.</p>
        </div>

        <div class="terms-section">
            <h2><i class="fas fa-envelope"></i> 9. Contact Information</h2>
            <p>For questions about these Terms:</p>
            <div class="agreement-box">
                <h3 style="color: var(--primary);"><i class="fas fa-headset"></i> Legal Support</h3>
                <p><strong>Email:</strong> legal@financetools.com</p>
                <p><strong>Address:</strong> FinanceTools Legal Department</p>
                <a href="/contact.html" class="btn btn-primary" style="margin-top: 15px;">
                    <i class="fas fa-paper-plane"></i> Contact Legal Team
                </a>
            </div>
        </div>
    </div>

    <!-- Your existing footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <div class="footer-logo">
                        <img style="width: 50px;" src="./images/financialtools-final.webp" alt="">
                        FinanceTools
                    </div>
                    <p>Smart financial calculators to help you make informed decisions about investments, loans, taxes,
                        and more. Completely free, no registration required.</p>
                </div>

                <!-- Replace your existing footer links section with this: -->
                <div class="footer-links">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="/privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="/terms.html">Terms of Service</a></li>
                        <li><a href="/disclaimer.html">Disclaimer</a></li>
                        <li><a href="/cookie-policy.html">Cookie Policy</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="/about.html">About Us</a></li>
                        <li><a href="/contact.html">Contact</a></li>
                        <li><a href="/sitemap.html">Sitemap</a></li>
                        <li><a href="/blog.html">Blog</a></li>
                    </ul>
                </div>
            </div>
            <div style="text-align:center; padding:20px 0; border-top:1px solid #334155;">
                <a href="/sitemap.html" style="color:#94a3b8; text-decoration:none;">Sitemap</a> |
                <a href="/privacy-policy.html" style="color:#94a3b8; text-decoration:none;">Privacy Policy</a> |
                <a href="/terms.html" style="color:#94a3b8; text-decoration:none;">Terms</a> |
                <a href="/contact.html" style="color:#94a3b8; text-decoration:none;">Contact</a>
            </div>
            <div class="copyright">
                <p>&copy; 2023 FinanceTools. All rights reserved.</p>
            </div>
        </div>
        <div style="text-align:center; padding:10px 0; color:#94a3b8;">
            Contact: support@financetools.com
        </div>
    </footer>
    <!-- SEO & Analytics Scripts -->
    <script>
        // Your analytics IDs here
        const GA_ID = 'G-XXXXXXXXXX';
        const GTM_ID = 'GTM-XXXXXX';
        const CLARITY_ID = 'your-project-id';
        const HOTJAR_ID = 1000000; // Your Hotjar ID
    </script>

    <!-- Performance Monitoring -->
    <script src="/js/seo-performance.js"></script>

    <!-- Event Tracking -->
    <script src="/js/seo-tracking.js"></script>

    <!-- Schema Markup -->
    <script src="/js/seo-schema.js"></script>

    <!-- Calculator Integration -->
    <script src="/js/seo-calculator.js"></script>

    <!-- Breadcrumb Generator -->
    <script src="/js/seo-breadcrumbs.js"></script>

    <!-- Initialize all scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // All scripts will auto-initialize
            // console.log('FinanceTools SEO Suite Loaded');
        });
    </script>
    <!-- ==================== -->
<!-- GDPR CONSENT BANNER -->
<!-- Add BEFORE </body> -->
<!-- ==================== -->
<div id="gdpr-consent-banner" style="display:none;">
    <div class="consent-overlay"></div>
    <div class="consent-modal">
        <!-- Basic 2-Choice Version -->
        <div class="consent-basic">
            <div class="consent-header">
                <i class="fas fa-shield-alt"></i>
                <h3>Your Privacy Choices</h3>
            </div>
            <p>We use cookies to improve your experience, analyze traffic, and show relevant ads. Choose your preferences below.</p>
            
            <div class="consent-buttons">
                <button id="consent-manage" class="btn-consent-secondary">
                    <i class="fas fa-cog"></i> Manage Options
                </button>
                <button id="consent-accept" class="btn-consent-primary">
                    <i class="fas fa-check"></i> Accept All
                </button>
            </div>
            
            <div class="consent-links">
                <a href="/privacy-policy.html" target="_blank">
                    <i class="fas fa-file-contract"></i> Privacy Policy
                </a>
                <a href="/cookie-policy.html" target="_blank">
                    <i class="fas fa-cookie-bite"></i> Cookie Policy
                </a>
            </div>
        </div>

        <!-- Detailed Preferences (Hidden by default) -->
        <div class="consent-details" style="display:none;">
            <div class="consent-header">
                <i class="fas fa-sliders-h"></i>
                <h3>Customize Your Privacy Settings</h3>
            </div>
            
            <!-- Essential (Always on) -->
            <div class="consent-category">
                <div class="category-header">
                    <div class="category-info">
                        <i class="fas fa-lock category-icon essential"></i>
                        <div>
                            <span class="category-title">Essential Cookies</span>
                            <span class="category-badge required">Required</span>
                        </div>
                    </div>
                    <div class="category-status">
                        <span class="status-text">Always Active</span>
                    </div>
                </div>
                <p class="category-desc">Required for the website to function. These cookies cannot be switched off.</p>
            </div>

            <!-- Analytics -->
            <div class="consent-category">
                <div class="category-header">
                    <div class="category-info">
                        <i class="fas fa-chart-line category-icon analytics"></i>
                        <div>
                            <span class="category-title">Analytics & Performance</span>
                            <span class="category-badge optional">Optional</span>
                        </div>
                    </div>
                    <div class="category-toggle">
                        <label class="switch">
                            <input type="checkbox" id="consent-analytics" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <p class="category-desc">Help us understand how visitors interact with our calculators to improve your experience.</p>
            </div>

            <!-- Advertising -->
            <div class="consent-category">
                <div class="category-header">
                    <div class="category-info">
                        <i class="fas fa-ad category-icon advertising"></i>
                        <div>
                            <span class="category-title">Personalized Advertising</span>
                            <span class="category-badge optional">Optional</span>
                        </div>
                    </div>
                    <div class="category-toggle">
                        <label class="switch">
                            <input type="checkbox" id="consent-ads" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <p class="category-desc">Show you relevant ads based on your interests and usage of financial tools.</p>
            </div>

            <!-- Functional -->
            <div class="consent-category">
                <div class="category-header">
                    <div class="category-info">
                        <i class="fas fa-cogs category-icon functional"></i>
                        <div>
                            <span class="category-title">Functional Cookies</span>
                            <span class="category-badge optional">Optional</span>
                        </div>
                    </div>
                    <div class="category-toggle">
                        <label class="switch">
                            <input type="checkbox" id="consent-functional" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <p class="category-desc">Remember your calculator preferences, settings, and dark mode choices.</p>
            </div>

            <div class="consent-actions">
                <button id="consent-reject-all" class="btn-consent-secondary">
                    <i class="fas fa-times"></i> Reject All
                </button>
                <button id="consent-save" class="btn-consent-primary">
                    <i class="fas fa-save"></i> Save Preferences
                </button>
                <button id="consent-accept-all" class="btn-consent-primary">
                    <i class="fas fa-check-double"></i> Accept All
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    /* ========================= */
    /* CONSENT BANNER STYLES */
    /* ========================= */
    
    /* Main Banner Container */
    #gdpr-consent-banner {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 10000;
        font-family: 'Poppins', sans-serif;
        display: none;
    }

    .consent-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(3px);
    }

    .consent-modal {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        border-radius: 20px 20px 0 0;
        padding: 25px;
        max-height: 85vh;
        overflow-y: auto;
        box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.2);
        animation: slideUp 0.4s ease;
    }

    @keyframes slideUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
    }

    /* Header Styles */
    .consent-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #f1f5f9;
    }

    .consent-header i {
        font-size: 1.5rem;
        color: #2563eb;
        background: #dbeafe;
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .consent-header h3 {
        font-size: 1.3rem;
        color: #1e293b;
        margin: 0;
        font-weight: 600;
    }

    /* Text Content */
    .consent-basic p {
        color: #64748b;
        line-height: 1.6;
        margin-bottom: 25px;
        font-size: 0.95rem;
        background: #f8fafc;
        padding: 15px;
        border-radius: 10px;
        border-left: 4px solid #2563eb;
    }

    /* Button Styles */
    .consent-buttons, .consent-actions {
        display: flex;
        gap: 12px;
        margin: 25px 0;
        flex-wrap: wrap;
    }

    .btn-consent-primary, .btn-consent-secondary {
        padding: 14px 20px;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
        border: none;
        flex: 1;
        min-width: 140px;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-size: 0.95rem;
    }

    .btn-consent-primary {
        background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
        color: white;
        box-shadow: 0 4px 15px rgba(37, 99, 235, 0.2);
    }

    .btn-consent-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
    }

    .btn-consent-secondary {
        background: white;
        color: #475569;
        border: 2px solid #cbd5e1;
    }

    .btn-consent-secondary:hover {
        background: #f8fafc;
        border-color: #94a3b8;
    }

    /* Links */
    .consent-links {
        display: flex;
        gap: 25px;
        justify-content: center;
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #e2e8f0;
    }

    .consent-links a {
        color: #2563eb;
        text-decoration: none;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: color 0.3s;
    }

    .consent-links a:hover {
        color: #1d4ed8;
        text-decoration: underline;
    }

    /* Category Styles */
    .consent-category {
        background: #f8fafc;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
        border: 1px solid #e2e8f0;
        transition: all 0.3s;
    }

    .consent-category:hover {
        border-color: #cbd5e1;
        background: #f1f5f9;
    }

    .category-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
    }

    .category-info {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .category-icon {
        font-size: 1.2rem;
        width: 36px;
        height: 36px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .category-icon.essential {
        background: #dcfce7;
        color: #16a34a;
    }

    .category-icon.analytics {
        background: #f0f9ff;
        color: #0ea5e9;
    }

    .category-icon.advertising {
        background: #fef3c7;
        color: #d97706;
    }

    .category-icon.functional {
        background: #f3e8ff;
        color: #9333ea;
    }

    .category-title {
        font-weight: 600;
        color: #1e293b;
        display: block;
        font-size: 1rem;
    }

    .category-badge {
        font-size: 0.75rem;
        padding: 2px 8px;
        border-radius: 12px;
        font-weight: 600;
    }

    .category-badge.required {
        background: #dcfce7;
        color: #166534;
    }

    .category-badge.optional {
        background: #dbeafe;
        color: #1e40af;
    }

    .category-status {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .status-text {
        color: #16a34a;
        font-size: 0.9rem;
        font-weight: 600;
    }

    .category-desc {
        color: #64748b;
        font-size: 0.9rem;
        line-height: 1.5;
        margin: 0;
    }

    /* Toggle Switch */
    .switch {
        position: relative;
        display: inline-block;
        width: 52px;
        height: 28px;
    }

    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #cbd5e1;
        transition: .4s;
        border-radius: 34px;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: .4s;
        border-radius: 50%;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    input:checked + .slider {
        background-color: #2563eb;
    }

    input:checked + .slider:before {
        transform: translateX(24px);
    }

    /* Desktop Styles */
    @media (min-width: 768px) {
        .consent-modal {
            max-width: 500px;
            left: 50%;
            transform: translateX(-50%);
            bottom: 30px;
            border-radius: 16px;
            max-height: 80vh;
        }

        .consent-buttons, .consent-actions {
            flex-wrap: nowrap;
        }

        .btn-consent-primary, .btn-consent-secondary {
            min-width: 120px;
        }
    }

    /* Mobile Optimizations */
    @media (max-width: 480px) {
        .consent-modal {
            padding: 20px;
        }

        .consent-header h3 {
            font-size: 1.1rem;
        }

        .btn-consent-primary, .btn-consent-secondary {
            padding: 12px 15px;
            font-size: 0.9rem;
        }

        .consent-actions {
            flex-direction: column;
        }
    }
</style>

<script>
    // =========================
    // CONSENT MANAGEMENT LOGIC
    // =========================
    
    document.addEventListener('DOMContentLoaded', function() {
        const banner = document.getElementById('gdpr-consent-banner');
        const consentBasic = document.querySelector('.consent-basic');
        const consentDetails = document.querySelector('.consent-details');
        
        // Check if user needs to see the banner
        function shouldShowBanner() {
            // Check if already consented
            if (getCookie('consent_given')) {
                return false;
            }
            
            // Check if user is from EEA/UK/CH (simplified check)
            // In production, use geo-IP service
            const userLang = navigator.language || navigator.userLanguage;
            const euLanguages = ['de', 'fr', 'it', 'es', 'pt', 'nl', 'pl', 'sv', 'da', 'fi', 'no'];
            
            // Also check timezone as hint
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const isEuropeanTimezone = timezone.includes('Europe') || 
                                       timezone.includes('London') || 
                                       timezone.includes('Zurich');
            
            // For now, show to everyone to be safe
            // You can refine this later with proper geo-IP
            return true;
        }
        
        // Show banner if needed
        if (shouldShowBanner()) {
            setTimeout(() => {
                banner.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // Track banner view
                if (window.dataLayer) {
                    window.dataLayer.push({
                        'event': 'consent_banner_shown'
                    });
                }
            }, 1500); // Show after 1.5 seconds
        }
        
        // Button Event Listeners
        document.getElementById('consent-manage')?.addEventListener('click', function() {
            consentBasic.style.display = 'none';
            consentDetails.style.display = 'block';
            
            // Track manage click
            if (window.dataLayer) {
                window.dataLayer.push({
                    'event': 'consent_manage_clicked'
                });
            }
        });
        
        document.getElementById('consent-accept')?.addEventListener('click', function() {
            setConsentPreferences(true, true, true, 'accepted_all');
        });
        
        document.getElementById('consent-save')?.addEventListener('click', function() {
            const analytics = document.getElementById('consent-analytics').checked;
            const ads = document.getElementById('consent-ads').checked;
            const functional = document.getElementById('consent-functional').checked;
            
            setConsentPreferences(analytics, ads, functional, 'custom_preferences');
        });
        
        document.getElementById('consent-accept-all')?.addEventListener('click', function() {
            setConsentPreferences(true, true, true, 'accepted_all_from_details');
        });
        
        document.getElementById('consent-reject-all')?.addEventListener('click', function() {
            setConsentPreferences(false, false, false, 'rejected_all');
        });
        
        // Close banner when clicking overlay
        document.querySelector('.consent-overlay')?.addEventListener('click', function(e) {
            if (e.target === this) {
                hideBanner();
            }
        });
        
        // Cookie Management Functions
        function setConsentPreferences(analytics, ads, functional, action) {
            const consentData = {
                analytics: analytics,
                ads: ads,
                functional: functional,
                timestamp: new Date().toISOString(),
                version: '1.0',
                action: action
            };
            
            // Save to cookies
            setCookie('consent_given', 'true', 365);
            setCookie('consent_preferences', JSON.stringify(consentData), 365);
            setCookie('consent_date', new Date().toISOString(), 365);
            
            // Update Google Consent Mode
            updateGoogleConsent(consentData);
            
            // Track consent event
            if (window.dataLayer) {
                window.dataLayer.push({
                    'event': 'consent_updated',
                    'consent_action': action,
                    'consent_analytics': analytics,
                    'consent_ads': ads,
                    'consent_functional': functional
                });
            }
            
            // Hide banner
            hideBanner();
            
            // Show confirmation message
            showConfirmation(action);
        }
        
        function updateGoogleConsent(consentData) {
            // Update Google Tag Manager / GA4 Consent
            if (window.gtag) {
                window.gtag('consent', 'update', {
                    'analytics_storage': consentData.analytics ? 'granted' : 'denied',
                    'ad_storage': consentData.ads ? 'granted' : 'denied',
                    'ad_user_data': consentData.ads ? 'granted' : 'denied',
                    'ad_personalization': consentData.ads ? 'granted' : 'denied',
                    'personalization_storage': consentData.functional ? 'granted' : 'denied',
                    'functionality_storage': consentData.functional ? 'granted' : 'denied',
                    'security_storage': 'granted',
                    'wait_for_update': 500
                });
                
                // Also update default for future page views
                window.gtag('consent', 'default', {
                    'analytics_storage': consentData.analytics ? 'granted' : 'denied',
                    'ad_storage': consentData.ads ? 'granted' : 'denied',
                    'ad_user_data': consentData.ads ? 'granted' : 'denied',
                    'ad_personalization': consentData.ads ? 'granted' : 'denied',
                    'personalization_storage': consentData.functional ? 'granted' : 'denied',
                    'functionality_storage': consentData.functional ? 'granted' : 'denied',
                    'security_storage': 'granted'
                });
            }
        }
        
        function hideBanner() {
            banner.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // Add closing animation
            banner.style.animation = 'slideUp 0.4s ease reverse';
        }
        
        function showConfirmation(action) {
            // Create a small confirmation toast
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 12px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 10001;
                display: flex;
                align-items: center;
                gap: 10px;
                animation: fadeIn 0.3s ease;
            `;
            
            let message = 'Preferences saved!';
            if (action === 'accepted_all' || action === 'accepted_all_from_details') {
                message = 'All cookies accepted. Thank you!';
                toast.style.background = '#10b981';
            } else if (action === 'rejected_all') {
                message = 'Non-essential cookies rejected.';
                toast.style.background = '#64748b';
            }
            
            toast.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(toast);
            
            // Remove after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        // Cookie helper functions
        function setCookie(name, value, days) {
            const d = new Date();
            d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
            const expires = "expires=" + d.toUTCString();
            document.cookie = name + "=" + encodeURIComponent(value) + ";" + expires + ";path=/;SameSite=Lax" + (location.protocol === 'https:' ? ";Secure" : "");
        }
        
        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length, c.length));
            }
            return null;
        }
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            @keyframes fadeOut {
                from { opacity: 1; transform: translateY(0); }
                to { opacity: 0; transform: translateY(20px); }
            }
        `;
        document.head.appendChild(style);
        
        // Check for existing consent on page load and apply
        const savedConsent = getCookie('consent_preferences');
        if (savedConsent) {
            try {
                const consentData = JSON.parse(savedConsent);
                updateGoogleConsent(consentData);
                
                // Also update toggle states in detailed view if open
                if (document.getElementById('consent-analytics')) {
                    document.getElementById('consent-analytics').checked = consentData.analytics;
                    document.getElementById('consent-ads').checked = consentData.ads;
                    document.getElementById('consent-functional').checked = consentData.functional;
                }
            } catch (e) {
                console.error('Error parsing consent preferences:', e);
            }
        }
    });
</script>
</body>

</html>